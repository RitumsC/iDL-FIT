<div id="wrapper">
    <!-- SIDEBAR -->
    <div id="sidebar-wrapper" class="hidden-print">
        <!-- BUTTONS -->
        <div>
            <div class="row">
                <a 
                    data-toggle="modal" 
                    data-target="#basicModal" 
                    class="btn btn-lg btn-info center-block">
                    How to use this app
                </a>
                <a href="javascript:if(window.print)window.print()">
                    <div>
                        <div class="btn btn-info btn-lg center-block"> Print</div>
                    </div>
                </a>
                <a href="">
                    <div>
                        <div class="btn btn-info btn-lg center-block"> Export</div>
                    </div>
                </a>
            </div>

        </div>
        <!-- INPUT SETS -->
        <div class="sidebar-title text-center ">
            Inputs
        </div>
        <div id="input-panels"></div>
        <div>
            <button type="button" class="btn pull-right" ng-click="addNewInputSet()">Add another</button>
        </div>
    </div>

    <!-- MAIN PAGE -->
    <div id="page-content-wrapper" class="lighter-grey-background">
        <div class="panel-default visible-print-block ">
            <div id ="printingInfo"></div>
        </div>
        <div class="container1">

            <!-- INPUT PARAMETERS -->
            <div class="col-xs-12 col-md-6 light-grey-background input-container hidden-print" id="inputContainer">
                <br>
                <div class="row">
                    <div class="col-xs-6">
                        <select id ="selectAnion" class="form-control" ng-model="selectedAnion" ng-options="anion.label for anion in anions" ng-change="inputChanged();
                                        anionChanged()">
                            <option value="" disabled>Select anion</option>
                        </select>
                    </div>

                    <div class="col-xs-6">
                        <select id ="selectCation"  class="form-control" data-width="100%" ng-model="selectedCation" ng-options="cation.label for cation in cations" ng-change="inputChanged();
                                        cationChanged()">
                            <option value="" disabled>Select cation</option>
                        </select>
                    </div>
                </div>
                <h4>or</h4>
                <input id="cas" type="text" class="form-control" placeholder="Enter a CAS number">
                <hr>
                <select id ="selectCation" class="form-control"  data-width="100%" ng-model="selectedElectrode" ng-options="electrode.label for electrode in electrodes" ng-change="inputChanged();
                                electrodeChanged()">
                    <option value="" disabled>Select electrode</option>
                </select>
            </div>

            <!-- 3D MODEL -->
            <div class="col-xs-12 col-md-6 hidden-print" id="glmolParent"> 
                <div id="glmol">  
                    <textarea id="glmol_src"></textarea>
                </div>
            </div>

            <!-- GRAPH CANVAS --> 
            <div id="chartContainer">
                <linechart data="chartData" options="chartOptions"></linechart>
            </div>
            <div class="row" id="slidersContainer">
                <div class="col-xs-1 hidden-print">
                    <p>E</p>
                    <p>a<sub>0,anion</sub></p>
                    <p>a<sub>0,cation</sub></p>
                    <p>&gamma;<sub>anion</sub></p>
                    <p>&gamma;<sub>cation</sub></p>
                </div>

                <div class="col-xs-9 hidden-print">
                    <input type="range" class="slider" id="epsilonSlider" min="0" max="4" step="0.25">
                    <input type="range" class="slider" id="a0AnionSlider" min="0.5" max="1" step="0.05">
                    <input type="range" class="slider" id="a0CationSlider" min="0.5" max="1" step="0.05">
                    <input type="range" class="slider" id="gammaAnionSlider" min="0" max="10" step="1">
                    <input type="range" class="slider" id="gammaCationSlider" min="0" max="10" step="1">
                </div>

                <div class="col-xs-2 hidden-print"> 
                    <p id="epsilonValue">2</p>
                    <p id="a0AnionValue">0.75</p>
                    <p id="a0CationValue">0.75</p>
                    <p id="gammaAnionValue">5</p>
                    <p id="gammaCationValue">5</p>
                </div>
            </div>
        </div>
    </div>
    <!-- HOWTOUSETHISAPP MODAL PAGE -->
    <div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">SuperCap: A toy-model of a SuperCapacitor</h4>
                </div>
                <div class="modal-body">
                    <h4>What is this application?</h4>
                    <p>You are looking at the web-application for computational 
                        materials design, which relies on original scientific 
                        insights and verified computational routines. 
                        The application is meant to be used for demoing 
                        differences between different anions and cations and 
                        the connecting electrolytes visually on a graph, which 
                        are the main components of batteries.</p>
                    <h4>1. How can I draw line graphs?</h4>
                    <ol>
                        <li>
                            Select anion and cation or if you want, 
                            you can insert 
                            (Chemical Abstracts Service) CAS-number 
                            instead of selecting anion and cation.
                        </li>
                        <li>
                            Select electrode.
                        </li>
                        <li>
                            There it is! You have made the app dynamically 
                            generate a graph.
                        </li>
                    </ol>
                    <h4>2. How can I draw 3D-models?</h4>
                    <ol>
                        <li>
                            You have to draw a line graph.
                        </li>
                        <li>
                            There it is! If the app has information 
                            for 3D-model, you do not
                            have to make any further actions, the app dynamically 
                            generates the 3D-model of the corresponding chemical
                            object made from anion, cation and electrode.
                        </li>
                    </ol>
                    <h4>3. How can I download line graphs?</h4>
                    <ol>
                        <li>
                            Draw some line graphs.
                        </li>
                        <li>
                            Click on the button called "Export".
                        </li>
                    </ol>
                    <h4>4. How can I print the app's page?</h4>
                    <ol>
                        <li>
                            Click on the button called "Print"
                        </li>
                    </ol>
                    <h4>5. What do these sliders do next to a graph?</h4>
                    <ol>
                        <li>
                            These are 5 important parameters from calculations.
                        </li>
                        <li>
                            If you move some slider, it might have an effect to
                            the graph.
                        </li>
                    </ol>
                </div>
                <h4>
                    This is the end for 1 minute introduction. If you have more
                    time then you can read the in-depth introduction below.
                </h4>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
                <div class="modal-dialog">
                    <div class="modal-content">                       
                        <h4>How many different formulas will we be using?</h4>
                        <p><span>There are three interrelated formulas: (1) </span>
                            <img src="img/image00.png" alt="formula"><span>; (2) </span>
                            <img src="img/image01.png" alt="formula"><span>; (3) </span>
                            <img src="img/image02.png" alt="formula">
                            <span>. We are doing numerical calculus, thus consider </span>
                            <img src="img/image03.png" alt="formula"><span>, </span><img src="img/image04.png" alt="formula">
                            <span>&nbsp;and </span><img src="img/image05.png" alt="formula">
                            <span>&nbsp;simply </span><span>as ranges of values</span>
                            <span>. The range of </span><img src="img/image03.png" alt="formula">
                            <span>&nbsp;is obtained via Eq. (1) using a given range of </span>
                            <img src="img/image04.png" alt="formula"><span>. </span><img src="img/image06.png" alt="formula">
                            <span>. The range of </span><img src="img/image05.png" alt="formula">
                            <span>&nbsp;is obtained via Eq. (2) using the range of </span>
                            <img src="img/image03.png" alt="formula"><span>. Then ranges </span>
                            <img src="img/image04.png" alt="formula"><span>&nbsp;and </span>
                            <img src="img/image05.png" alt="formula"><span>&nbsp;are transformed to a sum </span>
                            <img src="img/image07.png" alt="formula"><span>, and a differentiation is done using some simple method such as Simpson&#39;s rule.</span></p>
                        <h4>What are the formula(s) that we are using represented in mathematical form? </h4>
                        <p><span>Equation 1</span><span>&nbsp;-- </span>
                            <img src="img/image00.png" alt="formula"><span>:</span></p><p>
                            <img src="img/image08.png" alt="formula"></p><ol class="c5 lst-kix_36galqqje8ar-0 start" start="1"><li class="c2">
                                <img src="img/image03.png" alt="formula"><span>&nbsp;is the surface charge; its units are defined by the units of</span>
                                <span>&nbsp;</span><img src="img/image09.png" alt="formula"><span>&nbsp;</span><span>which will be </span>
                                <img src="img/image10.png" alt="formula"><span>.</span></li><li class="c2"><img src="img/image11.png" alt="formula">
                                <span>, where </span><img src="img/image12.png" alt="formula">
                                <span>&nbsp;is a constant used for units conversion</span>
                                <span>, and the </span><img src="img/image13.png" alt="formula"><span>&nbsp;value is taken from the database</span>
                                <span>&nbsp;and is characteristic for each ion. </span><img src="img/image14.png" alt="formula"></li><li class="c2">
                                <img src="img/image15.png" alt="formula"><span>&nbsp;is a step function. </span><img src="img/image16.png" alt="formula">
                                <span>&nbsp;and </span><img src="img/image17.png" alt="formula"><span>.</span></li><li class="c2">
                                <img src="img/image18.png" alt="formula"><span>&nbsp;is a dimensionless potential. </span>
                                <img src="img/image04.png" alt="formula"><span>&nbsp;unit</span><span>&nbsp;is V (Volt).</span>
                            </li><li class="c2"><img src="img/image19.png" alt="formula"><span>, where </span><img src="img/image20.png" alt="formula">
                                <span>&nbsp;is relative permittivity (</span><span>should be adjustable in the plot</span>
                                <span>), </span><img src="img/image21.png" alt="formula"><span>&nbsp;is a constant used for units conversion, and the </span><img src="img/image22.png" alt="formula">
                                <span>&nbsp;value is taken from the database and is characteristic for each electrode</span><span>. </span><span>r comes from the database, specific for anion and cation. c</span><span class="c0 c12">2 </span><span>&nbsp;= 0.8854. </span></li>
                            <li class="c2"><img src="img/image23.png" alt="formula"><span>&nbsp;and </span><img src="img/image24.png" alt="formula"><span>&nbsp;are empirical variables that will be adjustable in the plot.</span></li></ol><p><span>The Eq. 1 is in fact rather complex to implement.</span></p><p>
                            <span>First, we calculate </span><img src="img/image25.png" alt="formula"><span>&nbsp;and </span><img src="img/image26.png" alt="formula"><span>&nbsp;specifically for two ions forming the ionic liquid (it is a salt, thus always contains anions and cations).</span></p><p><span>Second, when calculating </span><img src="img/image25.png" alt="formula"><span>&nbsp;and </span><img src="img/image26.png" alt="formula"><span>we should split </span><img src="img/image04.png" alt="formula"><span>&nbsp;into two ranges: </span><img src="img/image27.png" alt="formula"><span>&nbsp;and </span>
                            <img src="img/image28.png" alt="formula"><span>&nbsp;in order to account for </span><img src="img/image15.png" alt="formula"><span>.</span></p><p><span>Third, we merge </span><img src="img/image25.png" alt="formula"><span>&nbsp;and </span><img src="img/image26.png" alt="formula"><span>&nbsp;into a single range as follows:</span></p><p><img src="img/image29.png" alt="formula"></p><p><span>where </span><img src="img/image30.png" alt="formula"><span>.</span></p><p><span class="c8 c3 c0">Equation 2</span><span>&nbsp;-- &nbsp;</span><img src="img/image01.png" alt="formula"><span>:</span></p><p><img src="img/image31.png" alt="formula"></p>
                        <p><img src="img/image32.png" alt="formula"></p><p><img src="img/image33.png" alt="formula"></p><p><span>In general </span><img src="img/image05.png" alt="formula"><span>&nbsp;vs </span><img src="img/image03.png" alt="formula"><span>&nbsp;is a line. </span></p><p><span>All parameters are given in the mondoDB.</span></p><p><span class="c8 c3 c0">Equation 3</span><span>&nbsp;-- </span><img src="img/image34.png" alt="formula"><span>.</span></p>
                        <p><span>The ranges </span><img src="img/image04.png" alt="formula"><span>&nbsp;and </span><img src="img/image05.png" alt="formula"><span>&nbsp;are transformed to a sum </span><img src="img/image35.png" alt="formula"><span>, and a differentiation is done using some simple method such as Simpson&#39;s rule.</span></p>
                        <h4>What do we get from the database?</h4>
                        <ul class="c5 lst-kix_f9eumezfniqe-0 start"><li class="c2"><span>For a selected ionic liquid: an adjustable parameter </span><img src="img/image36.png" alt="formula"><span>&nbsp;where </span><img src="img/image37.png" alt="formula"><span>&nbsp;with step 0.25.</span></li><li class="c2"><span>For each of two ions forming the selected ionic liquid: a constant value (</span><img src="img/image38.png" alt="formula"><span>) and a set of </span><span>adjustable parameters (</span><img src="img/image39.png" alt="formula"><span>) w</span><span>here </span><img src="img/image40.png" alt="formula"><span>&nbsp;with step 0.05 and </span><img src="img/image41.png" alt="formula"><span>&nbsp;with step 1.</span></li><li class="c2"><span>For each electrode: 6 constant values.</span></li></ul>
                        <h4>How do we use the data from the database?</h4>
                        <p><span>We use the obtained values and parameters in order to plot a graph using Eqs. 1-3.</span></p>
                        <h4>What parameters can the user change?</h4>
                        <p><span>Specifically for each combination of electrode and ionic liquid, the user can change five parameters: </span><img src="img/image42.png" alt="formula"><span>&nbsp;where &nbsp;</span><img src="img/image37.png" alt="formula"><span>&nbsp;with step 0.25, </span><img src="img/image40.png" alt="formula"><span>&nbsp;with step 0.05, and </span><img src="img/image41.png" alt="formula"><span>&nbsp;with step </span><span>1</span><span>. </span></p>
                        <h4>What gets plotted?</h4>
                        <p><span>Capacitance evaluated via Eq. 3. It is simply an array of C values calculated for the range of </span><img src="img/image07.png" alt="formula"><span>&nbsp;values. The capacitance has units </span><img src="img/image10.png" alt="formula"><span>,</span><span>&nbsp;therefore the y-axis label is </span><span class="c4 c0">C</span><span>&nbsp;/ </span><span class="c7">&mu;C cm</span><span class="c7 c9">&minus;2</span><span>. [0, VARIABLE]</span><span>&nbsp;Accordingly the x-axis label </span><span>is </span><span class="c4 c0">U</span><span>&nbsp;/ V.</span><span>&nbsp;[-2, 2]</span></p>
                        <h4>A demo in given similar form with correct real data:</h4>
                        <ul class="c5 lst-kix_u4sv9yrqplyb-0 start"><li class="c2"><span>The user selects anion &nbsp;</span><span class="c4 c0">[BF4] (in the DB we will have &gt;12 items).</span></li><li class="c2"><span>The user selects cation </span><span class="c4 c0">[BMIm] (in the DB we will have &gt;4 items).</span></li><li class="c2"><span>If the user would have inserted CAS number then the correct CAS number would have been.</span></li><li class="c2"><span>The user selects electrode </span><span class="c4 c0">[bismuth,gold,graphite,mercury] (a very limited number of items &lt;10).</span></li><li class="c2">
                                <h4>What information do we get from the database using this information? &nbsp; </h4></li></ul><ul class="c5 lst-kix_u4sv9yrqplyb-1 start"><li class="c1"><span>By anion+cation, i.e. ionic liquid we get </span><span class="c4 c0">[</span><img src="img/image20.png" alt="formula"><span class="c4 c0">]</span><span>&nbsp;and </span><span class="c4 c0">[xyz-coordinates]</span><span>&nbsp;and </span><span class="c4 c0">[HOMO, LUMO]</span><span>&nbsp;constant </span><span>values</span></li><li class="c1"><span>By anion information we get </span><span class="c4 c0">[</span><img src="img/image43.png" alt="formula"><span class="c4 c0">]</span><span>&nbsp;and its acronym </span><span class="c4 c0">[Anion]</span></li><li class="c1"><span>By cation information we get </span><span class="c4 c0">[</span><img src="img/image44.png" alt="formula"><span class="c4 c0">]</span><span>&nbsp;and its acronym [</span><span class="c4 c0">Cation</span><span>]</span></li><li class="c1"><span>By electrode information we get </span><span class="c4 c0">[d, +six constant values]</span></li></ul><ul class="c5 lst-kix_u4sv9yrqplyb-0"><li class="c2">
                                <h4>At this point, please show the mathematical form of the formula for the graph drawing points&hellip;</h4></li></ul><ul class="c5 lst-kix_u4sv9yrqplyb-1 start"><li class="c1"><span>A range of </span><img src="img/image04.png" alt="formula"><span>&nbsp;values is created, &nbsp;</span><img src="img/image45.png" alt="formula"><span>&nbsp;with step 0.01.</span></li><li class="c1"><span class="c4 c0">[</span><img src="img/image43.png" alt="formula"><span class="c4 c0">]</span><span>&nbsp;, </span><span class="c4 c0">[</span><img src="img/image44.png" alt="formula"><span class="c4 c0">] </span><span>and </span><span class="c4 c0">[</span><img src="img/image20.png" alt="formula"><span class="c4 c0">]</span><span>&nbsp;</span><span>come from the DB and go to Eq. 1 to produce a range of </span><img src="img/image03.png" alt="formula"><span>.</span></li><li class="c1"><span class="c4 c0">[d, +six constant values]</span><span>&nbsp;come from the DB and go to Eq. 2 to produce a range of &nbsp;</span><img src="img/image05.png" alt="formula"><span>&nbsp;values.</span></li><li class="c1"><span>Ranges &nbsp;</span><img src="img/image04.png" alt="formula"><span>&nbsp;and &nbsp;</span><img src="img/image05.png" alt="formula"><span>&nbsp;are summed up and the capacitance is calculated via Eq. 3</span></li></ul><p class="c6 c10">
                        <h4>&hellip; and how the graph is calculated by pointing out specifically what information comes from where and goes to which area in the graph.</h4><ul class="c5 lst-kix_wsinze3af1pk-0 start"><li class="c1"><span>The capacitance values are plotted against sum on &nbsp;</span><img src="img/image04.png" alt="formula"><span>&nbsp;and &nbsp;</span><img src="img/image05.png" alt="formula"><span>, i.e. </span><span class="c4 c0">&#1057;</span><span>&nbsp;vs. </span><span class="c4 c0">U</span><span>. The </span><span class="c4 c0">C</span><span>&nbsp;and </span><span class="c4 c0">U</span><span>&nbsp;cached (precalculated) values could be send to the client or calculated on the client&rsquo;s side.</span></li><li class="c1"><span>If any of </span><span class="c0 c4">[</span><img src="img/image46.png" alt="formula"><span class="c4 c0">]</span><span>&nbsp;, </span><span class="c4 c0">[</span><img src="img/image47.png" alt="formula"><span class="c4 c0">] </span><span>or</span><span>&nbsp;</span><span class="c4 c0">[</span><img src="img/image20.png" alt="formula"><span class="c4 c0">]</span><span>&nbsp;is changed the whole calculation is repeated at the client&#39;s&rsquo; </span><span>side</span><span>.</span></li><li class="c1"><span>Axes labels are always the same.</span></li><li class="c1"><span>Label for each ionic liquids consists of the sum of </span><span class="c4 c0">[Cation]</span><span>&nbsp;and </span><span class="c4 c0">[Anion]</span><span>&nbsp;acronyms (e.g. [BMIm][BF4]).</span></li><li class="c1"><span>A 3D image of the ionic liquid is drawn from its </span><span class="c4 c0">[</span><span class="c4 c0">xyz-coordinates</span><span class="c4 c0">]</span><span>.</span></li><li class="c1"><span>U-values corresponding to </span><img src="img/image09.png" alt="formula"><span>&nbsp;are plotted as straight </span><span>lines</span><span>.</span></li><li class="c1"><span class="c4 c0">[HOMO, LUMO]</span><span>&nbsp;values are plotted as straight </span><span>lines</span><span>.</span></li><li class="c1"><span>that should be all.</span></li></ul>
                        <h4>How many parameters are there next to the graph that the user can control?</h4>
                        <p><span>Five. These are </span><img src="img/image42.png" alt="formula"><span>&nbsp;where &nbsp;</span><img src="img/image37.png" alt="formula"><span>&nbsp;with step 0.25, </span><img src="img/image40.png" alt="formula"><span>&nbsp;with step 0.05, and </span><img src="img/image41.png" alt="formula"><span>&nbsp;with step </span><span>1</span><span>. </span></p><p><span>If you change one of the parameters the whole </span><span class="c4 c0">C</span><span>-</span><span class="c4 c0">U</span><span>&nbsp;curve is recalculated. Note, Eq 1. is sensitive to all five parameters, Eq. 2 is sensitive to the results of Eq. 2, and Eq 3 is closely related to both Eqs. 1 and 2. Thus, a massive recalculation will be performed.</span></p>                    
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
